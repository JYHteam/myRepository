<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.qianfeng.dao.OrdersDao">
    <insert id="addOrders" parameterType="com.qianfeng.bean.Orders">
        INSERT INTO orders(id,order_no,order_totalprice) VALUES (#{id},#{order_no},#{order_totalprice})
    </insert>
    <insert id="addOrderDetails" parameterType="map">
        INSERT INTO  order_detail(order_id,product_id,product_name,product_price) VALUES
        <foreach collection="list" separator="," item="book">
            (#{order_id},#{book.id},#{book.book_name},#{book.book_price})
        </foreach>
    </insert>
</mapper>